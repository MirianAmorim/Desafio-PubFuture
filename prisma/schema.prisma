generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
  senha    = env("SECRETKEY")
}

model Conta {
  id            Int                 @id @default(autoincrement())
  saldoid       Saldo[]              
  createdAt     DateTime            @default(now()) @map("created_at")
  instFinanc    String
  tipo          String
}

model Receita {
  id            Int                 @id @default(autoincrement())
  valor         Int
  dataRec       DateTime
  dataRecEsp    DateTime
  descricao     String
  tipo          String
  contaid       Conta               @relation(fields: [contaid], references: [id])
}

model Despesa {
  id            Int                 @id @default(autoincrement())
  valor         Int
  dataPag       DateTime
  dataPagEsp    DateTime
  tipo          String
  contaid       Conta               @relation(fields: [contaid], references: [id])
}

model Saldo {
  receitaid    Int
  despesaid    Int
  despesa      Despesa               @relation(fields: [despesaid], references: [id])
  receita      Receita               @relation(fields: [receitaid], references: [id])
  @@id([receitaid, despesaid])
}

model Tranferencia {
  saldoid      Int
  contaid      Int
  assignedAt   DateTime              @default(now())
  saldo        Saldo                 @relation(fields: [saldoid], references: [id])
  conta        Conta                 @relation(fields: [contaid], references: [id])
  @@id([saldoid, contaid])
}